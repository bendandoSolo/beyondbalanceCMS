@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.Module>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
	Layout = "Master.cshtml";
	ViewBag.Title = @Umbraco.Field("pageTitle");
}


@section MetaData{<meta name="description" content=@Umbraco.Field("descriptionMetadata") />}

<div class="contentSection" style="background-color: white;">
    <div class="CenterAndRestrictWidth">
        @if (CurrentPage.HasValue("fullWidthArea1Title"))
        {
            <h2 style="padding: 24px 0;"> @Umbraco.Field("fullWidthArea1Title")</h2>}
        <div style="padding: 24px 0;">
            @if (CurrentPage.HasValue("fullWidthArea1Content"))
            {
                <p>@Umbraco.Field("fullWidthArea1Content")</p>
            }
        </div>
        <p></p>
    </div>
</div>

@if(CurrentPage.HasValue("bannerText")) {
<div class="pageCaption">
    <h3 class="CenterAndRestrictWidth">
        @Umbraco.Field("bannerText")
    </h3>
</div>}

@if(CurrentPage.HasValue("text")) {
<div class="pageCaption">
    <h3 class="CenterAndRestrictWidth">
        @Umbraco.Field("text")
    </h3>
</div>}


@*DIRTY HACK*@
@foreach(var child in Model.Content.Children) {
    string leftImageName = null;
    string rightImageName = null;
    string leftImageUrl = null;
    string rightImageUrl = null;

    if(child.HasValue("leftImage") ){
        var leftImageId = child.GetPropertyValue("leftImage");
        var leftImage =  Umbraco.Media(Int32.Parse(leftImageId.ToString()));
        leftImageName = leftImage.Name;
        leftImageUrl = leftImage.Url;
    }
    if(child.HasValue("rightImage") ){
       var rightImageId =child.GetPropertyValue("rightImage");
       var rightImage = Umbraco.Media(Int32.Parse(rightImageId.ToString()));
       rightImageName = rightImage.Name;
       rightImageUrl = rightImage.Url;
    }
    if (leftImageName != null && rightImageName != null)
    {
    <div class="row">
        <div class="col-md-6 worksheet-image-container" ><img src="@leftImageUrl" alt="@leftImageName"  class="worksheet-image" /></div>
        <div class="col-md-6 worksheet-image-container" ><img src="@rightImageUrl" alt="@rightImageName"  class="worksheet-image" /></div>
    </div>
     }
    else{
        if(leftImageName != null){<div class="offset-md-3 col-md-6 worksheet-image-container" ><img src="@leftImageUrl" alt="@leftImageName" class="worksheet-image" /></div>}
        else{
              if(rightImageName != null){<div class="offset-md-3 col-md-6 worksheet-image-container" ><img src="@rightImageUrl" alt="@rightImageName" class="worksheet-image" /></div>}
        }
    }
   
}


