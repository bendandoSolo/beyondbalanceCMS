@model  MalcolmWall.Models.Email

@{
    ViewBag.Title = "Contact";

    //The AjaxOptions determine the behavior of the AJAX call
    //(e.g. what method on the server is called, what html element to update upon completion, etc.)
    AjaxOptions ajaxOptions = new AjaxOptions
    {
        LoadingElementId = "loading-area",
        LoadingElementDuration = 1500,
        Url = Url.Action("Submit"),
        OnFailure = "ShowFailure",
        UpdateTargetId = "message-area"
    };

    AjaxOptions ajaxSubscribeOptions = new AjaxOptions
    {
        LoadingElementId = "loading-area2",
        LoadingElementDuration = 1500,
        //data = document.getElementById("SubscribeTextBox").value,
        Url = Url.Action("Submit"),
        OnFailure = "ShowFailure",
        UpdateTargetId = "message-area"
    };


}
@section MetaData{
    <meta name="description" content="Contact Beyond Balance Simon Alebiosu Georgia Lennard Elite Personal Trainers." />
}


@*<div style="background-color: #A2ACAB; height: 115px;">
        <div class="CenterAndRestrictWidth">
            <h2 style="color: #465A58; padding-top: 52px; text-align: left; padding-left: 0px;">Contact Us</h2>
        </div>
    </div>*@
<div class="nopadding" style="background-color: #E5E4E9 !important; min-height: 85vh;">
    <div style="height: 24px;"></div>


    <div class="CenterAndRestrictWidth" syle="padding-bottom: 60px !important; ">

        <div class="row" style="margin: 40px 0;">

            <!--<div style="background-color: #ffffff; min-height: 100vh;">-->
            <!-- Begin Mailchimp Signup Form -->
            <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
            <!--
            <style type="text/css">
                 #mc_embed_signup {
                     background: #fff;
                     clear: left;
                     font: 14px Helvetica,Arial,sans-serif;
                 }
                 /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
                We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
            </style>
            <style type="text/css">
                #mc-embedded-subscribe-form input[type=checkbox] {
                    display: inline;
                    width: auto;
                    margin-right: 10px;
                }

                #mergeRow-gdpr {
                    margin-top: 20px;
                }

                    #mergeRow-gdpr fieldset label {
                        font-weight: normal;
                    }

                #mc-embedded-subscribe-form .mc_fieldset {
                    border: none;
                    min-height: 0px;
                    padding-bottom: 0px;
                }
            </style>
            -->
            <div id="mc_embed_signup" class="col-md-6 offset-md-3" style="background-color: #ffffff;">
                <form s action="https://beyondbalance.us11.list-manage.com/subscribe/post?u=0d8fac36269beb2f6146d5e84&amp;id=4da1ceeae9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                    <div id="mc_embed_signup_scroll">
                        <h2>Join our Thyroid Health Mailing list</h2>

                        <div class="mc-field-group">
                            <label for="mce-FNAME">
                                <strong>Name </strong> <span class="asterisk">*</span>
                            </label>
                            <input type="text" value="" name="FNAME" class="required form-control" id="mce-FNAME">
                        </div>
                        <div class="mc-field-group">
                            <label for="mce-EMAIL">
                                <strong>Email Address </strong> <span class="asterisk">*</span>
                            </label>
                            <input type="email" value="" name="EMAIL" class="required email form-control" id="mce-EMAIL">
                        </div>
                        <div class="mc-field-group size1of2">
                            <label for="mce-MMERGE5"><strong>Age</strong> </label>
                            <input type="number" name="MMERGE5" class="form-control" value="" id="mce-MMERGE5">
                        </div>
                        <div class="mc-field-group input-group">

                            <ul>
                                <li><strong>Gender </strong></li>
                                <li><input type="radio" value="Male" name="MMERGE6" id="mce-MMERGE6-0"><label for="mce-MMERGE6-0">Male</label></li>
                                <li><input type="radio" value="Female" name="MMERGE6" id="mce-MMERGE6-1"><label for="mce-MMERGE6-1">Female</label></li>
                                <li><input type="radio" value="Other" name="MMERGE6" id="mce-MMERGE6-2"><label for="mce-MMERGE6-2">Other</label></li>
                            </ul>
                        </div>

                        <div class="mc-field-group">
                            <label for="mce-MMERGE2"><strong>Home Town</strong> </label>
                            <input type="text" value="" name="MMERGE2" class="form-control" id="mce-MMERGE2">
                        </div>
                        <div class="indicates-required" style="float: left;padding-bottom: 12px"><span class="asterisk">*</span>indicates required</div>
                        <div id="mergeRow-gdpr" class="mergeRow gdpr-mergeRow content__gdprBlock mc-field-group">
                            <div class="content__gdpr">
                                <label><strong>Contact Permission</strong></label>
                                <p>Please select all the ways you would like to hear from Beyond-Balance:</p>
                                <fieldset class="mc_fieldset gdprRequired mc-field-group" name="interestgroup_field" style="overflow: hidden;">
                                    <label class="checkbox subfield" for="gdpr_27869" style="width: 100px; float: left;">
                                        <input type="checkbox" id="gdpr_27869" name="gdpr[27869]" value="Y" class="av-checkbox gdpr" style="width: 20px; height: 20px; float: left;position: relative; top: 4px;">
                                        <span>Email</span>
                                    </label>
                                </fieldset>
                                <p>You can unsubscribe at any time by clicking the link in the footer of our emails. For information about our privacy practices, please visit our website.</p>


                            </div>
                            <!--
                            <div class="content__gdprLegal">
                                <p>We use Mailchimp as our marketing platform. By clicking below to subscribe, you acknowledge that your information will be transferred to Mailchimp for processing. <a href="https://mailchimp.com/legal/" target="_blank">Learn more about Mailchimp's privacy practices here.</a></p>
                            </div>-->
                        </div>
                        <div id="mce-responses" class="clear">
                            <div class="response" id="mce-error-response" style="display:none"></div>
                            <div class="response" id="mce-success-response" style="display:none"></div>
                        </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_0d8fac36269beb2f6146d5e84_4da1ceeae9" tabindex="-1" value=""></div>
                        <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-sample2" style="margin-left: 0;"></div>
                    </div>
                </form>
            </div>
            <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
            <script type='text/javascript'>(function ($) { window.fnames = new Array(); window.ftypes = new Array(); fnames[1] = 'FNAME'; ftypes[1] = 'text'; fnames[0] = 'EMAIL'; ftypes[0] = 'email'; fnames[5] = 'MMERGE5'; ftypes[5] = 'number'; fnames[6] = 'MMERGE6'; ftypes[6] = 'radio'; fnames[2] = 'MMERGE2'; ftypes[2] = 'text'; }(jQuery)); var $mcj = jQuery.noConflict(true);</script>
            <!--End mc_embed_signup-->
        </div>



        <div class="row">
            <div class="col-md-7" style="height:700px; padding: 25px;margin-bottom: 75px;">
                <div id="map" style="height: 610px; width:100%;"></div>
            </div>

            <div class="col-md-5" style="height:700px; padding:25px;margin-bottom: 75px;">
                <div id="loading-area" class="load" style="display:none;">
                    <div class='alert alert-info'><strong>Sending...</strong></div>
                </div>
                <div id="message-area"></div>
                <div id="contact_form" class="fluid">
                    @using (Ajax.BeginForm(ajaxOptions))
                    {
                        <ol class="nopadding">
                            @Html.AntiForgeryToken()
                            <li>
                                <h3 style="margin-bottom: 24px; color: black !important;">Contact Beyond Balance</h3>
                            </li>

                            <li style="padding-bottom: 1vh;">
                                @Html.TextAreaFor(m => m.Name, new { @class = "form-control", @placeholder = "Name" })
                                <div style="color: red;">@Html.ValidationMessageFor(x => x.Name)</div>
                            </li>
                            <li style="padding-bottom: 1vh;">
                                @Html.TextAreaFor(m => m.EmailAddress, new { @class = "form-control", @placeholder = "Email" })
                                <div style="color: red;">@Html.ValidationMessageFor(x => x.EmailAddress)</div>
                            </li>
                            <li style="padding-bottom: 1vh;">
                                @Html.TextAreaFor(m => m.Subject, new { @class = "form-control", @placeholder = "Subject" })
                                <div style="color: red;">@Html.ValidationMessageFor(x => x.Subject)</div>
                            </li>
                            <li style="padding-bottom: 1vh;">
                                @Html.TextAreaFor(m => m.Enquiry, new { @class = "form-control", @placeholder = "Message", rows = 8, })
                                <div style="color: red;">@Html.ValidationMessageFor(x => x.Enquiry)</div>
                            </li>

                            <li style="padding-bottom: 1vh;">
                                <input type="submit" class="btn btn-secondary font-weight-bold" value="Send" />
                                @*<input id="submit" class="btn" type="submit" value="Submit" />*@
                                @*<input type="reset" value="Reset" />*@
                            </li>
                        </ol>
                        @* <p>
                            @Html.ValidationSummary()
                            </p>*@


                        @* <p>
                            @Html.ValidationMessageFor(m => m.EmailAddress)
                            </p>*@
                    }
                    @*<p class="required">*required fields</p>*@
                    @*<p>@Html.ValidationSummary(true)</p>*@
                    @*<p class="invalidData">@ViewBag.ErrorMessage</p>
                        <p class="requiredData"></p>
                        <p class="messageSent">@ViewBag.Message</p>*@
                </div>

                <div style="line-height: 50%; font-size: 18px;">
                    <br />
                    <br />
                    <br />
                    <p><a href="mailto:info@beyondbalance.co.uk">info@beyondbalance.co.uk</a></p>
                    <p>Phone: +44 (0)79 6157 1500</p>

                </div>
            </div>


        </div>
    </div>



    @*<div style="padding-top: 0px;padding-bottom: 60px; padding-left: 16px;padding-right:16px;">
            @using (Html.BeginForm())
            {
                <div class="CenterAndRestrictWidth" style="margin-left: 0px; margin-right: 0px; padding-left: 12px; padding-right: 12px;">
                    <div id="loading-area2" class="load" style="display:none;">
                        <div class='alert alert-info'><strong>Sending...</strong></div>
                    </div>
                    <div style="background-color: #2779A8; width: 100%; min-height: 180px; margin-top: 25px; margin-bottom: 0px;">
                        <div class="CenterAndRestrictWidth">
                            <h3 style="text-align: center; padding: 25px; color: white !important;">Join our mailing list. Never miss an update.</h3>
                            <div class="row">
                                <div class="col-md-6" style="padding-left: 75px; padding-right: 75px; padding-bottom: 25px;">
                                    @Html.TextBoxFor(m => m.EmailAddress, new { id = "SubscribeTextBox", @class = "form-control center", @placeholder = "Email Address" })
                                    <div style="color: red; text-align: center;">@Html.ValidationMessageFor(x => x.EmailAddress)</div>
                                </div>
                                <div class="col-md-6" style="padding-bottom: 25px;">
                                    <div>
                                        <button type="button" id="SubscribeButton" class="btn btn-secondary text-center font-weight-bold" style="margin: 0 auto; display:block;">Subscribe Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="subscribe-message-area"></div>
                    </div>
                </div>
            }
        </div>*@

    <div style="padding-top: 0px;padding-bottom: 60px; padding-left: 16px;padding-right:16px;">
        <div class="CenterAndRestrictWidth" style="margin-left: 0px; margin-right: 0px; padding-left: 12px; padding-right: 12px;">
            <div style="background-color: #2779A8; width: 100%; min-height: 180px; margin-top: 25px; margin-bottom: 0px;">

                <!-- Begin Mailchimp Signup Form -->
                <link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
                <style type="text/css">
                    #mc_embed_signup {
                        clear: left;
                    }
                    /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
                        We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
                </style>
                <div id="mc_embed_signup">
                    <form action="https://beyondbalance.us11.list-manage.com/subscribe/post?u=0d8fac36269beb2f6146d5e84&amp;id=f5709e82fa" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                        <div id="mc_embed_signup_scroll">
                            <h4 style="text-align: center; padding: 25px; color: white !important;">Join our Mailing List. Never miss an update.</h4>
                            <!--<label for="mce-EMAIL" style="text-align: center; color: #ffffff" >Subscribe to our Mailing List. Never miss an update.</label>-->

                            <row class="row">
                                <div class="col-md-6" style="padding-left: 60px; padding-right: 60px; padding-bottom: 25px;">
                                    <input style="min-width: 250px;display: block;margin: 0 auto;" type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                                </div>
                                <div class="col-md-6" style="padding-left: 60px; padding-right: 60px;padding-bottom: 25px;">
                                    <input style="display: block; width: 160px; margin: 0 auto;" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                                </div>
                            </row>



                            <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_0d8fac36269beb2f6146d5e84_f5709e82fa" tabindex="-1" value=""></div>

                        </div>
                    </form>
                </div>
                <!--End mc_embed_signup-->
            </div>
        </div>
    </div>

</div>

@section Scripts
{
    <script src="~/Content/Scripts/jquery.validate.js"></script>
    <script src="~/Content/Scripts/jquery.validate.unobtrusive.js"></script>
    <script src="~/Content/Scripts/jquery.unobtrusive-ajax.js"></script>

    <script>
        function ShowFailure() {
            //In the case that the AJAX call fails to communicate with the server
            //(e.g. the user's internet connection cuts out), we should display a message to that effect
            $('#message-area').html("<div class='alert alert-danger'><strong>Error!</strong> The server could not be contacted and your message has not been sent. Please check your internet connection and try again later.</div>");
        }

        function ShowSubscribeFailure() {
            //In the case that the AJAX call fails to communicate with the server
            //(e.g. the user's internet connection cuts out), we should display a message to that effect
            $('#subscribe-message-area').html("<div class='alert alert-danger'><strong>Error!</strong> The server could not be contacted or the email address is invalid. Please check your internet connection and try again later.</div>");
        }

        //beforeSend: function ()
        //{
        //    $('#subscribe-message-area').hide();
        //},

        $("#SubscribeButton").click(function () {
            //if ($('#SubscribeTextBox').valid()) {
            var email = document.getElementById("SubscribeTextBox").value;
            var dataString = 'subscriptionEmail=' + email;
            $.ajax({
                type: "POST",
                url: "Subscribe",
                data: dataString,
                cache: false,

                success: function (data) {
                    $('#subscribe-message-area').hide();
                    $('#subscribe-message-area').show();
                    $('#subscribe-message-area').html(data);
                },
                error: function (err) {
                    $('#subscribe-message-area').show();
                    ShowSubscribeFailure();
                }
            });
            //}
            //else
            //    alert("Invalid email addres");
        });





        function initMap() {

            var myLatLng = { lat: 51.514, lng: -0.1474 };

            var mapDiv = document.getElementById('map');
            var map = new google.maps.Map(mapDiv, {
                center: myLatLng,//{ lat: 51.514, lng: -0.1474 },
                zoom: 11,
                scrollwheel: false
            });

            //var image = '../../Images/Contact/GreenacreMapPin2.png';

            //var marker = new google.maps.Marker({
            //    position: myLatLng,
            //    map: map,
            //    icon: image,
            //    title: '22 Woodstock Street, W1C 2AR'
            //});
        }



    </script>
    @*AIzaSyDQbSLJ0GIwrTDD7u27eMWqt2ZmHA3jq9M*@
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQbSLJ0GIwrTDD7u27eMWqt2ZmHA3jq9M&callback=initMap"
            async defer></script>

}